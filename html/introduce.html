<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1"
    />
    <title>배곧건치과의원</title>
    <link rel="shortcut icon" type="image/x-icon" href="../images/teeth.png" />
    <script src="https://code.jquery.com/jquery-1.10.1.min.js"></script>

    <link rel="stylesheet" type="text/css" href="../css/nav.css" />
    <link rel="stylesheet" type="text/css" href="../css/footer.css" />
    <link rel="stylesheet" type="text/css" href="../css/pic.css" />
    <link rel="stylesheet" type="text/css" href="../css/introduce/img.css" />
    <link rel="stylesheet" type="text/css" href="../css/intro_nav.css" />
    <style>
      html {
        height: 100%;
        width: 100%;
      }

      body {
        margin: 0;
        min-height: 100vh;
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
        }

        to {
          opacity: 1;
        }
      }
    </style>
  </head>

  <body>
    <div id="nav">
      <script>
        $(document).ready(function () {
          $("#nav").load("nav.html");
        });
      </script>
    </div>
    <section class="main_pic">
      <div class="img">
        <img class="pic" src="../images/main_1.png" />
        <div class="pic_text">
          <div class="pic_text1">병원 소개</div>
          <div class="pic_text2">배곧건치과의원</div>
        </div>
      </div>
    </section>
    <section class="intro_nav">
      <div id="nav_bar" class="nav_bar">
        <div class="nav_title" data-tab-section="nav_title1">배곧건치과는?</div>
        <div class="nav_title" data-tab-section="nav_title2">의료진 소개</div>
        <div class="nav_title" data-tab-section="nav_title3">병원 둘러보기</div>
        <div class="nav_title" data-tab-section="nav_title4">진료시간</div>
      </div>

      <div class="nav_content">
        <div class="content" id="nav_title1">
          <img class="promise" src="../images/promise_1.png" />
          <img class="promise" src="../images/promise_2.png" />
          <img class="promise" src="../images/promise_3.png" />
          <img class="promise" src="../images/promise_4.png" />
        </div>
        <img class="content" id="nav_title2" src="../images/intro_doctor.png" />
        <div class="content" id="nav_title3">
          <button class="prev"><</button>
          <div class="slide">
            <div class="place">
              <img class="place_img" src="../images/place_1.jpg" />
              <img class="place_img" src="../images/place_2.jpg" />
              <img class="place_img" src="../images/place_3.jpg" />
              <img class="place_img" src="../images/place_4.jpg" />
              <img class="place_img" src="../images/place_5.jpg" />
              <img class="place_img" src="../images/place_6.jpg" />
              <img class="place_img" src="../images/place_7.jpg" />
              <img class="place_img" src="../images/place_8.jpg" />
              <img class="place_img" src="../images/place_10.jpg" />
              <img class="place_img" src="../images/place_13.jpg" />
              <img class="place_img" src="../images/place_14.jpg" />
              <img class="place_img" src="../images/place_15.jpg" />
              <img class="place_img" src="../images/place_16.jpg" />
              <img class="place_img" src="../images/place_17.jpg" />
              <img class="place_img" src="../images/place_18.jpg" />
              <img class="place_img" src="../images/place_19.jpg" />
              <img class="place_img" src="../images/place_20.jpg" />
            </div>
          </div>
          <button class="next">></button>
          <script>
            let pages = 0; //현재 인덱스 번호
            let positionValue = 0; //images 위치값
            const IMAGE_WIDTH = 99; //한번 이동 시 IMAGE_WIDTH 이동한다.
            //DOM
            const backBtn = document.querySelector(".prev");
            const nextBtn = document.querySelector(".next");
            const images = document.querySelector(".place");
            const imgCnt = $(".place_img").length - 1;
            function next() {
              if (pages < imgCnt) {
                backBtn.removeAttribute("disabled"); //뒤로 이동해 더이상 disabled가 아니여서 속성을 삭제한다.
                positionValue -= IMAGE_WIDTH; //IMAGE_HEIGHT의 증감을 positionValue에 저장한다.
                images.style.transform = `translateX(${positionValue}%)`;
                //x축으로 positionValue만큼의 px을 이동한다.
                pages += 1; //다음 페이지로 이동해서 pages를 1증가 시킨다.
              }
              if (pages === imgCnt) {
                //
                nextBtn.setAttribute("disabled", "true"); //마지막 장일 때 next버튼이 disabled된다.
              }
            }

            function back() {
              if (pages > 0) {
                nextBtn.removeAttribute("disabled");
                positionValue += IMAGE_WIDTH;
                images.style.transform = `translateX(${positionValue}%)`;
                pages -= 1; //이전 페이지로 이동해서 pages를 1감소 시킨다.
              }
              if (pages === 0) {
                backBtn.setAttribute("disabled", "true"); //마지막 장일 때 back버튼이 disabled된다.
              }
            }

            function init() {
              //초기 화면 상태
              backBtn.setAttribute("disabled", "true"); //속성이 disabled가 된다.
              backBtn.addEventListener("click", back); //클릭시 다음으로 이동한다.
              nextBtn.addEventListener("click", next); //클릭시 이전으로 이동한다.
            }
            init();
          </script>
        </div>
        <img class="content" id="nav_title4" src="../images/time.png" />

        <script>
          const $nav = document.querySelector("#nav_bar");
          const $sections = document.querySelectorAll(".content");

          window.onload = function () {
            const initialSection = document.getElementById("nav_title1");

            $sections.forEach(($section) => {
              if ($section === initialSection) {
                $section.removeAttribute("hidden"); // 초기 섹션 보이기
              } else {
                $section.setAttribute("hidden", true); // 나머지 숨기기
              }
            });
          };

          $nav.addEventListener("click", (e) => {
            if (!e.target.classList.contains("nav_title")) {
              return;
            }

            const focusedTabId = e.target.dataset.tabSection;

            $sections.forEach(($section) => {
              if ($section.id === focusedTabId) {
                $section.removeAttribute("hidden");
              } else {
                $section.setAttribute("hidden", true);
              }
            });
          });
        </script>
      </div>
    </section>

    <div id="footer"></div>
    <script>
      $(document).ready(function () {
        $("#footer").load("footer.html");
      });
    </script>
  </body>
</html>
